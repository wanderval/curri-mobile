function pageTransition(e){function s(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200||n.status===0){var e=new DOMParser;t(e.parseFromString(n.responseText,"text/html"))}else{console.log("Error:\n"+n.status+"\n"+n.statusText)}}};n.open("GET",e,true);n.send("")}function o(e,t){for(var n=0,r=t.length;n<r;n++){e.add(t[n])}}function u(e,t){for(var n=0,r=t.length;n<r;n++){e.remove(t[n])}}function a(e,n,i){var a=document.querySelector(t.contentContainerSelector);a.appendChild(r);a.style.zIndex=2;o(a.classList,n);var f=a.cloneNode(false);f.style.zIndex=1;o(f.classList,n);f.classList.add("new");if(f.id){f.dataset.originalId=f.id;f.id=f.id+"-new"}a.parentNode.appendChild(f);s(e,function(r){var s=document.querySelector("head"),o=r.querySelector("head"),l=r.querySelector(t.contentContainerSelector);f.innerHTML=l.innerHTML;a.classList.add("out");f.classList.add("in");setTimeout(function(){if(i===true){window.history.pushState(null,null,e)}var r=s.querySelectorAll(t.headElementsToReplace),l=o.querySelectorAll(t.headElementsToReplace);for(var c=0,h=r.length;c<h;c++){s.removeChild(r[c])}for(var p=0,d=l.length;p<d;p++){s.appendChild(l[p])}a.parentNode.removeChild(a);u(f.classList,n);f.classList.remove("new");f.classList.remove("in");if(f.dataset.originalId){f.id=f.dataset.originalId;delete f.dataset.originalId}t.afterSlideFunction()},t.cssSlideDuration)})}var t={effectClasses:["slide"],effectClassesReverse:["slide","reverse"],afterSlideFunction:function(){},ajaxLoader:"ajax-loader",noSlideAttr:"data-no-slide",contentContainerSelector:"body",cssSlideDuration:705,headElementsToReplace:"meta, link, title"};var n=function(e,t){for(var n in t)e[n]=t[n];return e};n(t,e);var r=document.createElement("div");r.id=t.ajaxLoader;var i=false;if(window.history&&window.history.pushState){window.onpopstate=function(){if(i==true){a(document.location.pathname,t.effectClassesReverse,false)}}}document.addEventListener("click",function(e){if(e.target.tagName==="A"){var n=e.target,r=n.getAttribute("href");if(n.getAttribute(t.noSlideAttr)!=null||r.match(":")||e.which===2||n.hash.length>0){return}else{e.preventDefault();i=true;a(r,t.effectClasses,true)}}else{return}},false)}